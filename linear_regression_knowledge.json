{
  "metadata": {
    "title": "線性迴歸完整學習指南",
    "version": "1.0.0",
    "lastUpdated": "2025-11-01",
    "sources": [
      "中國醫藥大學生物統計中心教材",
      "Wooldridge 計量經濟學",
      "R 語言實作範例"
    ],
    "language": "zh-TW"
  },
  "learningPaths": {
    "quick": {
      "name": "快速入門",
      "duration": "30分鐘",
      "modules": ["intro", "basic_concept", "r_squared", "quick_example"]
    },
    "standard": {
      "name": "完整學習",
      "duration": "2-3小時",
      "modules": ["intro", "basic_concept", "assumptions", "estimation", "inference", "diagnostics", "example"]
    },
    "advanced": {
      "name": "深度研究",
      "duration": "5-6小時",
      "modules": ["intro", "basic_concept", "assumptions", "estimation", "inference", "diagnostics", "advanced_topics", "derivations", "example"]
    }
  },
  "modules": [
    {
      "id": "intro",
      "title": "什麼是線性迴歸？",
      "level": "基礎",
      "duration": "5分鐘",
      "prerequisites": [],
      "objectives": [
        "理解迴歸分析的基本概念",
        "區分相關與迴歸的差異",
        "認識應變數與自變數"
      ],
      "content": {
        "summary": "線性迴歸分析探討變數間的線性關係，與相關係數分析不同的是，迴歸中變數有明確的角色區分。",
        "keyPoints": [
          {
            "title": "迴歸 vs 相關",
            "description": "相關係數分析中兩個變數角色對等可互換；迴歸分析中變數角色明確，以線性方程式連結。",
            "visualization": "scatter_plot_with_line"
          },
          {
            "title": "名詞定義",
            "description": "y 稱為依變數（dependent variable）、應變數、反應變數、結果變數；x 稱為自變數（independent variable）、解釋變數、預測變數。",
            "formula": "y = \\beta_0 + \\beta_1 x + u"
          }
        ],
        "examples": [
          {
            "title": "年齡對睡眠時數的影響",
            "description": "探討年齡（自變數）是否會影響睡眠小時（依變數）",
            "data_preview": {
              "variables": ["age", "sleepHR1"],
              "sample_size": 50
            }
          },
          {
            "title": "閱讀能力與年紀",
            "description": "年紀對閱讀分數的解釋能力，R² = 0.875 表示年紀能解釋 87.5% 的分數變異",
            "r_code": "lm(score ~ age, data = readingSkills)"
          }
        ]
      }
    },
    {
      "id": "basic_concept",
      "title": "簡單線性迴歸模型",
      "level": "基礎",
      "duration": "15分鐘",
      "prerequisites": ["intro"],
      "objectives": [
        "了解母體迴歸模型",
        "理解誤差項的意義",
        "掌握參數的解釋"
      ],
      "content": {
        "summary": "簡單線性迴歸模型描述兩個連續變數之間的線性關係，包含截距、斜率和誤差項。",
        "keyPoints": [
          {
            "title": "母體模型",
            "formula": "y = \\beta_0 + \\beta_1 x + u",
            "components": [
              {
                "symbol": "\\beta_0",
                "name": "截距（Intercept）",
                "interpretation": "當 x = 0 時，y 的期望值。實務上常不具經濟意義，僅為數學上迴歸線與 y 軸的交點。"
              },
              {
                "symbol": "\\beta_1",
                "name": "斜率（Slope）",
                "interpretation": "x 每增加一個單位，y 平均變化的量。",
                "formula": "\\beta_1 = \\frac{\\Delta E(y|x)}{\\Delta x} = \\frac{dE(y|x)}{dx}"
              },
              {
                "symbol": "u",
                "name": "誤差項（Error term）/ 干擾項（Disturbance）",
                "interpretation": "除了 x 外，其他觀察不到的因素，包含衡量誤差。變數間不可能存在完全精確的關係。"
              }
            ]
          },
          {
            "title": "統計模型",
            "description": "從母體中隨機抽樣 n 個觀測值 {(xi, yi): i=1,2,...,n}",
            "formula": "y_i = \\beta_0 + \\beta_1 x_i + u_i"
          },
          {
            "title": "母體迴歸函數（PRF）",
            "formula": "E(y|x) = \\beta_0 + \\beta_1 x",
            "description": "給定 x 值，y 的條件期望值為 x 的線性函數。",
            "note": "由於 E(u|x) = 0，所以 E(y|x) = \\beta_0 + \\beta_1 x"
          }
        ],
        "visualizations": [
          {
            "type": "population_regression_function",
            "description": "E(y|x) 為 x 的線性函數，給定 x，y 的分配以 E(y|x) 為中心",
            "elements": ["regression_line", "conditional_distributions", "error_terms"]
          }
        ]
      }
    },
    {
      "id": "assumptions",
      "title": "迴歸模型的假設",
      "level": "中級",
      "duration": "20分鐘",
      "prerequisites": ["basic_concept"],
      "objectives": [
        "理解 OLS 估計的六大假設",
        "了解違反假設的後果",
        "學習假設檢驗方法"
      ],
      "content": {
        "summary": "線性迴歸分析基於六個關鍵假設（SLR#1-SLR#6），這些假設確保 OLS 估計式的統計性質。",
        "assumptions": [
          {
            "id": "SLR1",
            "name": "參數線性",
            "formula": "y = \\beta_0 + \\beta_1 x + u",
            "description": "母體模型的參數是線性的",
            "importance": "fundamental"
          },
          {
            "id": "SLR2",
            "name": "隨機抽樣",
            "formula": "\\{(x_i, y_i): i=1,2,...,n\\}",
            "description": "從母體中隨機抽樣，樣本大小為 n",
            "implication": "在隨機抽樣下，ui 與 uj 是獨立的，Cov(ui, uj) = 0"
          },
          {
            "id": "SLR3",
            "name": "自變數變異性",
            "formula": "\\sum_{i=1}^{n} (x_i - \\bar{x})^2 > 0",
            "description": "xi 存在變異性，不會都等於某一常數",
            "practical": "此假設在應用上幾乎都成立"
          },
          {
            "id": "SLR4",
            "name": "條件期望值為零",
            "formula": "E(u|x) = 0",
            "description": "給定 x 的資訊下，無法得知 u 的任何資訊",
            "critical": true,
            "implications": [
              "E(u) = 0（無條件期望值為零）",
              "Cov(u, x) = 0（誤差項與自變數無關）",
              "應變數與解釋變數的函數關係正確"
            ],
            "violations": [
              "遺漏重要變數",
              "錯誤的函數形式",
              "測量誤差"
            ]
          },
          {
            "id": "SLR5",
            "name": "同質變異數（Homoskedasticity）",
            "formula": "Var(u|x) = \\sigma^2",
            "description": "誤差項變異數不隨 x 改變",
            "alternative": "Heteroskedasticity（異質變異數）：Var(u|x) 隨 x 改變",
            "testing": "實證問題，需透過檢定確認"
          },
          {
            "id": "SLR6",
            "name": "常態性",
            "formula": "u \\sim N(0, \\sigma^2)",
            "description": "誤差項服從常態分配",
            "justification": "中央極限定理：u 為許多不同、不可觀察因素的總和",
            "relaxation": "當樣本夠大（n > 100），即使 u 不是常態分配，OLS 估計式也會趨近常態分配"
          }
        ],
        "keyImplications": [
          {
            "condition": "SLR#1-SLR#4",
            "result": "OLS 估計式不偏（Unbiased）",
            "formula": "E(\\hat{\\beta}_0) = \\beta_0, \\quad E(\\hat{\\beta}_1) = \\beta_1"
          },
          {
            "condition": "SLR#1-SLR#5",
            "result": "OLS 估計式為 BLUE（Best Linear Unbiased Estimator）",
            "theorem": "Gauss-Markov 理論"
          },
          {
            "condition": "SLR#1-SLR#6",
            "result": "OLS 估計式服從常態分配，且為 BUE（Best Unbiased Estimator，包含非線性估計式）"
          }
        ]
      }
    },
    {
      "id": "estimation",
      "title": "參數估計方法",
      "level": "中級",
      "duration": "25分鐘",
      "prerequisites": ["basic_concept", "assumptions"],
      "objectives": [
        "掌握 OLS 估計法的原理",
        "理解動差法",
        "了解估計式的統計性質"
      ],
      "content": {
        "summary": "參數可透過最小平方法（OLS）、動差法（MM）或最大概似法（MLE）估計。OLS 是最常用的方法。",
        "methods": [
          {
            "name": "最小平方法（OLS）",
            "fullName": "Ordinary Least Squares",
            "principle": "找一條迴歸線通過樣本點，使殘差平方和最小",
            "objective": "\\min_{\\hat{\\beta}_0, \\hat{\\beta}_1} \\sum_{i=1}^{n} (y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i)^2",
            "derivation": {
              "method": "一階條件（First Order Conditions）",
              "foc": [
                "\\frac{\\partial}{\\partial \\hat{\\beta}_0} \\sum (y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i)^2 = 0",
                "\\frac{\\partial}{\\partial \\hat{\\beta}_1} \\sum (y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i)^2 = 0"
              ],
              "normalEquations": [
                "\\sum_{i=1}^{n} (y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i) = 0",
                "\\sum_{i=1}^{n} x_i(y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i) = 0"
              ]
            },
            "solutions": [
              {
                "parameter": "\\hat{\\beta}_1",
                "formula": "\\hat{\\beta}_1 = \\frac{\\sum_{i=1}^{n}(x_i - \\bar{x})(y_i - \\bar{y})}{\\sum_{i=1}^{n}(x_i - \\bar{x})^2} = \\frac{\\widehat{Cov}(x,y)}{\\widehat{Var}(x)}",
                "interpretation": "斜率估計為 x 與 y 的樣本共變異數除以 x 的樣本變異數"
              },
              {
                "parameter": "\\hat{\\beta}_0",
                "formula": "\\hat{\\beta}_0 = \\bar{y} - \\hat{\\beta}_1 \\bar{x}",
                "interpretation": "迴歸線通過樣本平均點 (\\bar{x}, \\bar{y})"
              }
            ],
            "linearEstimator": {
              "description": "OLS 估計式為 y 觀測值的加權平均（線性估計式）",
              "formula": "\\hat{\\beta}_1 = \\sum_{i=1}^{n} w_i y_i, \\quad w_i = \\frac{x_i - \\bar{x}}{\\sum_{i=1}^{n}(x_i - \\bar{x})^2}"
            }
          },
          {
            "name": "動差法（MM）",
            "fullName": "Method of Moments",
            "principle": "利用母體聯合機率分配的限制條件",
            "populationRestrictions": [
              "E(y - \\beta_0 - \\beta_1 x) = 0",
              "E[x(y - \\beta_0 - \\beta_1 x)] = 0"
            ],
            "sampleAnalogues": [
              "n^{-1} \\sum_{i=1}^{n} (y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i) = 0",
              "n^{-1} \\sum_{i=1}^{n} x_i(y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i) = 0"
            ],
            "note": "動差法的估計式與 OLS 相同"
          }
        ],
        "fittedValues": {
          "formula": "\\hat{y}_i = \\hat{\\beta}_0 + \\hat{\\beta}_1 x_i",
          "name": "配適值（Fitted value）/ 預測值（Predicted value）",
          "description": "當 x = xi 時對 y 的預測"
        },
        "residuals": {
          "formula": "\\hat{u}_i = y_i - \\hat{y}_i",
          "name": "殘差（Residual）",
          "description": "誤差項 u 的估計，樣本與配適線的差距",
          "properties": [
            "殘差總和為零：\\sum_{i=1}^{n} \\hat{u}_i = 0",
            "殘差平均為零：\\bar{\\hat{u}} = 0",
            "殘差與自變數的樣本共變異數為零：\\sum_{i=1}^{n} x_i \\hat{u}_i = 0",
            "迴歸線通過樣本平均點：\\bar{y} = \\hat{\\beta}_0 + \\hat{\\beta}_1 \\bar{x}"
          ]
        }
      }
    },
    {
      "id": "r_squared",
      "title": "決定係數 R²",
      "level": "基礎",
      "duration": "15分鐘",
      "prerequisites": ["estimation"],
      "objectives": [
        "理解 R² 的意義",
        "正確解釋 R² 的大小",
        "了解 R² 的限制"
      ],
      "content": {
        "summary": "R² 衡量迴歸模型的配適度（goodness of fit），表示自變數能解釋依變數變異的比例。",
        "definition": {
          "formula": "R^2 = \\frac{SSE}{SST} = 1 - \\frac{SSR}{SST}",
          "range": "0 \\leq R^2 \\leq 1",
          "interpretation": "y 的總變異中，可被 x 解釋的比例"
        },
        "anova": {
          "title": "變異數分解（ANOVA）",
          "totalVariation": {
            "name": "SST（Total Sum of Squares）",
            "formula": "SST = \\sum_{i=1}^{n} (y_i - \\bar{y})^2",
            "description": "y 的總變異"
          },
          "explainedVariation": {
            "name": "SSE（Explained Sum of Squares）",
            "formula": "SSE = \\sum_{i=1}^{n} (\\hat{y}_i - \\bar{y})^2",
            "description": "迴歸能解釋的變異"
          },
          "residualVariation": {
            "name": "SSR（Residual Sum of Squares）",
            "formula": "SSR = \\sum_{i=1}^{n} \\hat{u}_i^2",
            "description": "迴歸無法解釋的變異（殘差平方和）"
          },
          "decomposition": "SST = SSE + SSR",
          "visualFormula": "\\sum (y_i - \\bar{y})^2 = \\sum (\\hat{y}_i - \\bar{y})^2 + \\sum \\hat{u}_i^2"
        },
        "interpretation": {
          "prePlaceholder": "降低誤差比例（Proportional Reduction in Error）的意涵",
          "description": "以迴歸方程式預測，比用依變數平均數預測，減少的預測誤差百分比",
          "simpleCase": "只有一個自變數時，R = |r|，其中 r 為皮爾森相關係數"
        },
        "misconceptions": [
          {
            "myth": "R² 要夠大模型才有用",
            "truth": "R² 大小取決於研究目的。預測應用需要高 R²；了解變數關係則重點在參數顯著性。",
            "examples": [
              "父親身高預測兒子身高：R² 可能不高，但斜率顯著仍有意義",
              "心臟移植配對：需要極高的 R²（>95%）以確保精準預測"
            ]
          },
          {
            "myth": "R² 低表示模型無用",
            "truth": "社會科學中 R² 通常較低（<20%），但若迴歸係數顯著，仍然有價值。重點是變數關係是否顯著，而非解釋比例。"
          }
        ]
      }
    },
    {
      "id": "inference",
      "title": "統計推論與假設檢定",
      "level": "中級",
      "duration": "30分鐘",
      "prerequisites": ["estimation", "assumptions"],
      "objectives": [
        "理解參數估計的抽樣分配",
        "學習參數顯著性檢定",
        "區分 F 檢定與 t 檢定"
      ],
      "content": {
        "summary": "利用樣本估計的參數需進行假設檢定，以判斷參數是否顯著異於零。",
        "samplingDistribution": {
          "title": "OLS 估計式的機率分配",
          "underNormality": {
            "condition": "SLR#6: u ~ N(0, σ²)",
            "distributions": [
              "\\hat{\\beta}_0 \\sim N(\\beta_0, sd(\\hat{\\beta}_0))",
              "\\hat{\\beta}_1 \\sim N(\\beta_1, sd(\\hat{\\beta}_1))"
            ],
            "reason": "ui 為常態分配 → yi 為常態分配 → OLS 估計式（yi 的線性組合）為常態分配"
          },
          "asymptoticNormality": {
            "condition": "樣本夠大（n > 100）",
            "result": "即使 u 不是常態分配，OLS 估計式也趨近常態分配（中央極限定理）"
          }
        },
        "variance": {
          "title": "OLS 估計式的變異數",
          "formulas": [
            {
              "parameter": "\\hat{\\beta}_1",
              "variance": "Var(\\hat{\\beta}_1) = \\frac{\\sigma^2}{\\sum_{i=1}^{n}(x_i - \\bar{x})^2}",
              "standardError": "sd(\\hat{\\beta}_1) = \\frac{\\sigma}{\\sqrt{\\sum_{i=1}^{n}(x_i - \\bar{x})^2}}"
            },
            {
              "parameter": "\\hat{\\beta}_0",
              "variance": "Var(\\hat{\\beta}_0) = \\frac{\\sigma^2 \\sum_{i=1}^{n} x_i^2}{n \\sum_{i=1}^{n}(x_i - \\bar{x})^2}",
              "standardError": "sd(\\hat{\\beta}_0) = \\sigma \\sqrt{\\frac{\\sum_{i=1}^{n} x_i^2}{n \\sum_{i=1}^{n}(x_i - \\bar{x})^2}}"
            }
          ],
          "errorVarianceEstimation": {
            "unbiasedEstimator": "\\hat{\\sigma}^2 = \\frac{SSR}{n-2} = \\frac{\\sum_{i=1}^{n} \\hat{u}_i^2}{n-2}",
            "degreesOfFreedom": "n - 2（因估計了兩個參數）",
            "standardErrorEstimates": [
              "se(\\hat{\\beta}_1) = \\frac{\\hat{\\sigma}}{\\sqrt{\\sum_{i=1}^{n}(x_i - \\bar{x})^2}}",
              "se(\\hat{\\beta}_0) = \\hat{\\sigma} \\sqrt{\\frac{\\sum_{i=1}^{n} x_i^2}{n \\sum_{i=1}^{n}(x_i - \\bar{x})^2}}"
            ]
          },
          "determinants": [
            "誤差變異數 σ² 越大 → 估計式變異數越大 → 越難精確估計",
            "自變數變異越大 → 估計式變異數越小 → 越容易找出關係"
          ]
        },
        "hypothesisTesting": {
          "tTest": {
            "title": "個別參數顯著性檢定（t 檢定）",
            "purpose": "檢定個別迴歸係數是否顯著不為零",
            "hypotheses": {
              "null": "H_0: \\beta_1 = 0",
              "alternative": "H_1: \\beta_1 \\neq 0"
            },
            "testStatistic": "t = \\frac{\\hat{\\beta}_1}{se(\\hat{\\beta}_1)} \\sim t_{n-2}",
            "decision": [
              "若 |t| > t_{\\alpha/2, n-2} 或 p < α，拒絕 H0",
              "表示可透過該自變數預測依變數"
            ]
          },
          "fTest": {
            "title": "整體模型顯著性檢定（F 檢定）",
            "purpose": "檢定迴歸模型整體是否可用",
            "hypotheses": {
              "null": "H_0: \\beta_1 = 0",
              "alternative": "H_1: \\beta_1 \\neq 0"
            },
            "testStatistic": "F = \\frac{SSE/1}{SSR/(n-2)} = \\frac{MSE}{MSE} \\sim F_{1, n-2}",
            "relationship": "在簡單迴歸中，F = t²",
            "decision": [
              "若 F > F_{\\alpha, 1, n-2} 或 p < α，拒絕 H0",
              "表示至少有一個迴歸係數不為零（模型有用）"
            ]
          },
          "comparison": {
            "fTest": "看整體模式是否可用",
            "tTest": "看個別變數是否可有效預測依變數"
          }
        },
        "example": {
          "title": "年齡對睡眠時數的影響",
          "model": "\\widehat{sleepHR1} = 11.7 - 0.123 \\times age",
          "results": {
            "intercept": {
              "estimate": 11.7,
              "se": 0.338,
              "t": 34.709,
              "p": 0.000,
              "interpretation": "age=0 時平均睡眠 11.7 小時（統計上顯著但實務意義有限）"
            },
            "slope": {
              "estimate": -0.123,
              "se": 0.010,
              "t": -12.020,
              "p": 0.000,
              "interpretation": "年齡每增加 1 歲，平均睡眠小時減少 0.123 小時（p<0.001，高度顯著）"
            },
            "modelFit": {
              "rSquared": 0.751,
              "adjustedRSquared": 0.745,
              "fStatistic": 144.469,
              "fPvalue": 0.000,
              "interpretation": "年齡能解釋 75.1% 的睡眠變異，模型整體顯著"
            }
          }
        }
      }
    },
    {
      "id": "diagnostics",
      "title": "模型診斷",
      "level": "進階",
      "duration": "25分鐘",
      "prerequisites": ["inference", "assumptions"],
      "objectives": [
        "學習殘差分析",
        "檢驗模型假設",
        "識別異常值與影響點"
      ],
      "content": {
        "summary": "模型估計後需進行診斷，檢查假設是否滿足，以及是否存在異常值或影響觀測。",
        "residualAnalysis": {
          "title": "殘差分析",
          "purposes": [
            "檢查線性假設",
            "檢查同質變異數",
            "檢查常態性",
            "偵測異常值"
          ],
          "plots": [
            {
              "type": "Residuals vs Fitted",
              "purpose": "檢查線性假設與同質變異數",
              "idealPattern": "隨機散布，無明顯型態",
              "warnings": [
                "曲線型態 → 非線性關係",
                "漏斗型 → 異質變異數"
              ]
            },
            {
              "type": "Q-Q Plot",
              "purpose": "檢查常態性",
              "idealPattern": "點落在 45 度線上",
              "warnings": "明顯偏離 → 非常態分配"
            },
            {
              "type": "Scale-Location",
              "purpose": "檢查同質變異數",
              "idealPattern": "水平線，變異均勻",
              "warnings": "趨勢存在 → 異質變異數"
            }
          ]
        },
        "normalityTests": {
          "title": "常態性檢定",
          "jarqueBera": {
            "name": "Jarque-Bera 檢定",
            "formula": "JB = \\frac{N}{6} \\left[ S^2 + \\frac{(K-3)^2}{4} \\right]",
            "distribution": "\\chi^2(2)",
            "hypotheses": {
              "H0": "分配為常態",
              "H1": "分配非常態"
            },
            "decision": "p < 0.05 拒絕常態性"
          }
        },
        "heteroskedasticity": {
          "title": "異質變異數檢定",
          "consequence": "標準誤估計偏誤，影響假設檢定",
          "remedies": [
            "穩健標準誤（Robust Standard Errors）",
            "加權最小平方法（WLS）",
            "變數轉換（如取對數）"
          ]
        },
        "outliers": {
          "title": "異常值偵測",
          "types": [
            {
              "name": "離群值（Outliers）",
              "definition": "y 值遠離配適值",
              "impact": "增加殘差變異，降低 R²"
            },
            {
              "name": "高槓桿點（High Leverage Points）",
              "definition": "x 值遠離平均",
              "impact": "對迴歸線有較大影響"
            },
            {
              "name": "影響點（Influential Points）",
              "definition": "同時為離群值與高槓桿點",
              "impact": "大幅改變迴歸係數",
              "detection": "Cook's Distance > 1 需注意"
            }
          ]
        }
      }
    },
    {
      "id": "quick_example",
      "title": "R 語言快速實作",
      "level": "基礎",
      "duration": "10分鐘",
      "prerequisites": ["basic_concept"],
      "objectives": [
        "學會使用 R 進行簡單線性迴歸",
        "理解 R 輸出結果",
        "掌握基本視覺化"
      ],
      "content": {
        "summary": "使用 R 的 lm() 函數快速建立線性迴歸模型。",
        "basicCode": {
          "title": "基本迴歸分析",
          "code": [
            "# 載入資料",
            "data(readingSkills, package = \"party\")",
            "",
            "# 建立模型：score 對 age 迴歸",
            "lmfit <- lm(score ~ age, data = readingSkills)",
            "",
            "# 顯示結果",
            "summary(lmfit)"
          ],
          "output": {
            "coefficients": {
              "intercept": {
                "estimate": "數值",
                "interpretation": "age=0 時的 score 期望值"
              },
              "age": {
                "estimate": "數值",
                "interpretation": "age 每增加 1，score 平均變化量"
              }
            },
            "rSquared": "模型解釋力",
            "fStatistic": "整體顯著性"
          }
        },
        "visualization": {
          "title": "視覺化",
          "code": [
            "# 散布圖 + 迴歸線",
            "plot(score ~ age, data = readingSkills)",
            "abline(lmfit, col = \"red\")",
            "",
            "# 診斷圖",
            "par(mfrow = c(2, 2))",
            "plot(lmfit)"
          ]
        }
      }
    },
    {
      "id": "example",
      "title": "完整案例分析",
      "level": "中級",
      "duration": "20分鐘",
      "prerequisites": ["inference", "diagnostics"],
      "objectives": [
        "完整分析流程",
        "結果解釋與報告",
        "SPSS 與 R 操作"
      ],
      "content": {
        "examples": [
          {
            "title": "年齡對睡眠時數的影響（SPSS）",
            "description": "探討年齡是否影響睡眠小時",
            "data": {
              "variables": ["age", "sleepHR1"],
              "n": 50
            },
            "steps": [
              "Analyze → Regression → Linear",
              "Dependent: sleepHR1, Independent: age",
              "檢視 Model Summary (R²)",
              "檢視 ANOVA 表（F 檢定）",
              "檢視 Coefficients 表（參數估計與 t 檢定）"
            ],
            "results": "年齡每增加 1 歲，平均睡眠減少 0.123 小時（p<0.001），R²=0.751"
          },
          {
            "title": "午餐計畫對學生成績的影響",
            "description": "政府資助的學校午餐計畫是否改善學生表現",
            "model": "\\widehat{math10} = 32.14 - 0.319 \\times lnchprg",
            "paradox": "係數符號與預期相反（負號）",
            "explanation": "遺漏變數偏誤：學校品質、資源、學生貧窮率等因素未納入模型，這些因素可能與 lnchprg 相關且影響 math10",
            "lesson": "計量模型必須涵蓋重要、相關的解釋變數，否則 OLS 估計式有偏"
          }
        ]
      }
    },
    {
      "id": "advanced_topics",
      "title": "進階主題",
      "level": "進階",
      "duration": "30分鐘",
      "prerequisites": ["inference", "diagnostics"],
      "objectives": [
        "理解 Gauss-Markov 定理",
        "學習最大概似估計",
        "了解估計式性質比較"
      ],
      "content": {
        "gaussMarkov": {
          "title": "Gauss-Markov 定理",
          "statement": "在 SLR#1-SLR#5 假設下，OLS 估計式為 BLUE",
          "blue": {
            "B": "Best（變異數最小，有效的 Efficient）",
            "L": "Linear（依變數的線性組合）",
            "U": "Unbiased（不偏）",
            "E": "Estimator（估計式）"
          },
          "notes": [
            "應用於估計式，非估計值",
            "只在線性不偏估計式中為 best",
            "不需常態性假設（SLR#6）",
            "若加上 SLR#6，OLS 為 BUE（包含非線性估計式）"
          ]
        },
        "mle": {
          "title": "最大概似法（MLE）",
          "principle": "找使樣本出現機率最大的參數值",
          "likelihood": "L(\\beta_0, \\beta_1, \\sigma^2 | data) = \\prod_{i=1}^{n} f(y_i | x_i, \\beta_0, \\beta_1, \\sigma^2)",
          "underNormality": "在常態性假設下，MLE = OLS",
          "advantage": "可推廣至複雜模型"
        }
      }
    },
    {
      "id": "derivations",
      "title": "數學推導",
      "level": "進階",
      "duration": "40分鐘",
      "prerequisites": ["estimation", "inference"],
      "objectives": [
        "推導 OLS 估計式",
        "證明不偏性",
        "推導變異數公式"
      ],
      "content": {
        "olsDerivation": {
          "title": "OLS 估計式推導",
          "steps": "詳細推導過程..."
        },
        "unbiasednessProof": {
          "title": "不偏性證明",
          "steps": "詳細證明過程..."
        },
        "varianceDerivation": {
          "title": "變異數公式推導",
          "steps": "詳細推導過程..."
        }
      }
    }
  ],
  "glossary": {
    "dependent_variable": {
      "terms": ["依變數", "應變數", "反應變數", "結果變數", "被解釋變數", "被迴歸項", "效標變數"],
      "english": "Dependent Variable, Response Variable, Outcome Variable, Regressand",
      "symbol": "y",
      "definition": "在迴歸分析中，被預測或解釋的變數"
    },
    "independent_variable": {
      "terms": ["自變數", "解釋變數", "預測變數", "控制變數", "迴歸項"],
      "english": "Independent Variable, Explanatory Variable, Predictor Variable, Regressor",
      "symbol": "x",
      "definition": "在迴歸分析中，用來預測或解釋依變數的變數"
    },
    "error_term": {
      "terms": ["誤差項", "干擾項"],
      "english": "Error Term, Disturbance Term",
      "symbol": "u",
      "definition": "除自變數外，其他觀察不到的因素，包含衡量誤差"
    },
    "residual": {
      "terms": ["殘差"],
      "english": "Residual",
      "symbol": "\\hat{u}",
      "definition": "誤差項的估計，觀測值與配適值的差距",
      "formula": "\\hat{u}_i = y_i - \\hat{y}_i"
    },
    "coefficient_of_determination": {
      "terms": ["決定係數", "判定係數"],
      "english": "Coefficient of Determination, R-squared",
      "symbol": "R^2",
      "definition": "依變數總變異中，可被迴歸模型解釋的比例",
      "formula": "R^2 = \\frac{SSE}{SST} = 1 - \\frac{SSR}{SST}"
    },
    "ols": {
      "terms": ["最小平方法", "普通最小平方法"],
      "english": "Ordinary Least Squares",
      "abbreviation": "OLS",
      "definition": "選擇參數使殘差平方和最小的估計方法"
    }
  },
  "resources": {
    "books": [
      {
        "title": "Introductory Econometrics: A Modern Approach",
        "author": "Jeffrey M. Wooldridge",
        "description": "計量經濟學經典教材"
      }
    ],
    "software": [
      {
        "name": "R",
        "description": "開源統計軟體",
        "packages": ["stats (lm)", "ggplot2", "car"]
      },
      {
        "name": "SPSS",
        "description": "商業統計軟體",
        "modules": ["Regression", "General Linear Model"]
      }
    ]
  }
}
